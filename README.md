## üå∏ –ó–∞–¥–∞—á–∞: –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ø–µ—Å—á–∞–Ω–æ–π –∫—É—á–∏ —Å –≤—ã–≤–æ–¥–æ–º –≤ BMP üå∏

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω—É—é [–º–æ–¥–µ–ª—å –ø–µ—Å—á–∞–Ω–æ–π –∫—É—á–∏](https://en.wikipedia.org/wiki/Abelian_sandpile_model), —Å–æ—Ö—Ä–∞–Ω—è—é—â—É—é —Å–≤–æ–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ [BMP](https://en.wikipedia.org/wiki/BMP_file_format).  
‚ú® –ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

### üå∏ –ê—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
- **-i, --input** ‚Äî üìÑ –ø—É—Ç—å –∫ –≤—Ö–æ–¥–Ω–æ–º—É TSV-—Ñ–∞–π–ª—É —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏  
- **-o, --output** ‚Äî üìÅ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è BMP-–∫–∞—Ä—Ç–∏–Ω–æ–∫  
- **-m, --max-iter** ‚Äî üîÅ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π  
- **-f, --freq** ‚Äî üñºÔ∏è —á–∞—Å—Ç–æ—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (0 ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ)

---

### üå∏ –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ó–∞–¥–∞—ë—Ç—Å—è TSV-—Ñ–∞–π–ª–æ–º —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–µ—Å—á–∏–Ω–æ–∫ –≤ –∫–∞–∂–¥–æ–π —è—á–µ–π–∫–µ:  
  üìå `x<TAB>y<TAB>–∑–Ω–∞—á–µ–Ω–∏–µ`  
- –†–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤—Å–µ —è—á–µ–π–∫–∏.  
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Äî `int16_t`, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Å—á–∏–Ω–æ–∫ ‚Äî `uint64_t`.

---

### üå∏ –ü—Ä–∞–≤–∏–ª–∞ –º–æ–¥–µ–ª–∏:
1. üå± –ù–æ–≤—ã–µ –ø–µ—Å—á–∏–Ω–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**.
2. üåä –ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç **—Ç–æ–ª—å–∫–æ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ**.
3. üß± –ï—Å–ª–∏ –ø–µ—Å—á–∏–Ω–∫–∏ "–ø—Ä–æ–≤–∞–ª–∏–≤–∞—é—Ç—Å—è" –∑–∞ –∫—Ä–∞–π ‚Äî –ø–æ–ª–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è.

---

### üå∏ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ BMP:
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è = —Ä–∞–∑–º–µ—Ä—É –ø–æ–ª—è.
- –û–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å = –æ–¥–Ω–∞ —è—á–µ–π–∫–∞.
- –¶–≤–µ—Ç –ø–∏–∫—Å–µ–ª—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–µ—Å—á–∏–Ω–æ–∫:

  | –ö–æ–ª-–≤–æ –ø–µ—Å—á–∏–Ω–æ–∫ | –¶–≤–µ—Ç    |
  |-----------------|---------|
  | 0               | ü§ç –ë–µ–ª—ã–π   |
  | 1               | üíö –ó–µ–ª—ë–Ω—ã–π |
  | 2               | üíú –§–∏–æ–ª–µ—Ç–æ–≤—ã–π |
  | 3               | üíõ –ñ—ë–ª—Ç—ã–π  |
  | >3              | üñ§ –ß—ë—Ä–Ω—ã–π  |

- –û–¥–∏–Ω –ø–∏–∫—Å–µ–ª—å –∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º –≤ **4 –±–∏—Ç–∞**!

---

### üå∏ –£—Å–ª–æ–≤–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã:
- –õ–∏–±–æ –º–æ–¥–µ–ª—å —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å,
- –õ–∏–±–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –∑–∞–¥–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π.

---

### üå∏ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- ‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–≤ —Ç–æ–º —á–∏—Å–ª–µ –¥–ª—è BMP).
- ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã STL (`std::vector`, `std::list` –∏ —Ç.–¥.).
- ‚úÖ –í—Å—ë ‚Äî –Ω–∞ —á–∏—Å—Ç–æ–º C++ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏!

---
---
## üìç –ù–µ–±–æ–ª—å—à–æ–µ –ø–æ—Å–ª–∞–Ω–∏–µ


| üß≠ X  | üß≠ Y  | –ü–µ—Å—á–∏–Ω–æ–∫ |
|:----:|:----:|:-----------:|
|  0   |  0   |     567     |
| 10   | 10   |     570     |
| -10  | 10   |     570     |
| 15   | 18   |     450     |
| -15  | 18   |     450     |
| 10   | -1   |     20      |
| -10  | -1   |     20      |
|  0   | -5   |     40      |
|  0   | -11  |     8       |
|  0   | -12  |     6       |


---


